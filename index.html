<!doctype html>
import { Analytics } from '@vercel/analytics/next';
 
export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="en">
      <head>
        <title>Next.js</title>
      </head>
      <body>
        {children}
        <Analytics />
      </body>
    </html>
  );
}
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>HIGHLIST — Find THC Drinks</title>
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16.png">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<meta name="theme-color" content="#111111">
  <meta name="color-scheme" content="light dark" />
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""
  />
  <style>
    :root { --hl-neon:#C1FF00; --hl-red:#FF0A2B; --hl-brown:#4A3933; }
    html,body { height:100%; margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; }
    #map { position:fixed; inset:0; }
    .age-gate {
      position: fixed; inset:0; background: #111; color:#fff; display:flex; align-items:center; justify-content:center; z-index:9999;
      padding:24px; text-align:center;
    }
    .age-card { max-width:520px; background:#1b1b1b; border:1px solid #333; border-radius:14px; padding:24px; }
    .age-btns { display:flex; gap:12px; justify-content:center; margin-top:16px; }
    .btn { padding:12px 16px; border-radius:10px; border:0; cursor:pointer; font-weight:600; }
    .btn-primary { background: var(--hl-neon); color:#111; }
    .btn-ghost { background: transparent; color:#fff; border:1px solid #444; }
    .topbar {
      position:fixed; left:12px; top:12px; z-index:9000; display:flex; gap:8px; align-items:center;
      background: rgba(255,255,255,0.9); backdrop-filter: blur(6px); border-radius:12px; padding:8px 10px; box-shadow: 0 4px 14px rgba(0,0,0,0.1);
    }
    .topbar h1 { margin:0; font-size:14px; letter-spacing:0.5px; color:#111; }
    .topbar .findme { border:0; background:#111; color:#fff; border-radius:8px; padding:8px 10px; cursor:pointer; }
    .leaflet-popup-content { font-size:14px; line-height:1.3; }
    .badge { display:inline-block; font-size:11px; padding:2px 6px; border-radius:999px; background:#eee; color:#111; margin-right:6px; }
    @media (prefers-color-scheme: dark) {
      .topbar { background: rgba(20,20,20,0.8); }
      .topbar h1 { color:#fff; }
    }
  </style>
</head>
<body>
  <div id="map"></div>

  <div class="topbar">
    <h1>HIGHLIST — Find THC Drinks</h1>
    <button class="findme" id="findMe">Find near me</button>
  </div>
<p style="margin: 16px 0;">
  <a href="/venues.html"
     style="display:inline-block;background:#0a66c2;color:white;padding:10px 14px;border-radius:6px;text-decoration:none;font-weight:600;">
    See THC Drink Venues →
  </a>
</p>
  <div class="age-gate" id="ageGate">
    <div class="age-card">
      <h2 style="margin:0 0 8px 0;">Are you 21 or older?</h2>
      <p style="margin:0; opacity:0.85;">
        Highlist lists venues serving hemp‑derived THC beverages where permitted by state law.
        By entering, you confirm you are 21+.
      </p>
      <div class="age-btns">
        <button class="btn btn-primary" id="ageYes">Yes, enter</button>
        <button class="btn btn-ghost" id="ageNo">No</button>
      </div>
    </div>
  </div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
  <script>
    const gate = document.getElementById('ageGate');
    document.getElementById('ageYes').onclick = () => { localStorage.setItem('hl21','1'); gate.style.display='none'; };
    document.getElementById('ageNo').onclick = () => { location.href='https://highlist.co'; };
    if (localStorage.getItem('hl21') === '1') gate.style.display = 'none';

    const map = L.map('map').setView([29.7604, -95.3698], 5);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { maxZoom: 19, attribution: '&copy; OpenStreetMap' }).addTo(map);

    const venues = [
      { name: 'Radio Rosewood', address: '1115 East 11th Street, Austin, TX', vibes:['date-night','cocktail-forward'] },
      { name: 'Cosmic Saltillo', address: '1300 East 4th Street, Austin, TX', vibes:['patio','lively'] },
      { name: 'dantes hifi', address: 'Miami, FL', vibes:['late-night','live-music'] },
      { name: 'Radix House Coffee', address: '2701 West William Cannon Drive, Austin, TX', vibes:['quiet','mocktail program','low-dose'] }
    ];

    async function geocode(addr) {
      const url = new URL('https://nominatim.openstreetmap.org/search');
      url.searchParams.set('q', addr);
      url.searchParams.set('format', 'jsonv2');
      url.searchParams.set('limit', '1');
      const res = await fetch(url, { headers: { 'Accept-Language':'en' } });
      if (!res.ok) return null;
      const data = await res.json();
      return (data && data[0]) ? [parseFloat(data[0].lat), parseFloat(data[0].lon)] : null;
    }

    async function addMarkers() {
      for (const v of venues) {
        try {
          await new Promise(r => setTimeout(r, 1100));
          const latlng = await geocode(v.address);
          if (!latlng) continue;
          const popup = `
            <div style="min-width:200px">
              <strong>${v.name}</strong><br/>
              <span style="opacity:.8">${v.address}</span><br/>
              <div style="margin-top:6px">
                ${v.vibes.map(x=>`<span class="badge">${x}</span>`).join('')}
              </div>
              <div style="margin-top:8px;font-size:12px;opacity:.75">Last verified: — (seed)</div>
            </div>`;
          L.marker(latlng).addTo(map).bindPopup(popup);
        } catch(e) {}
      }
    }
    addMarkers();

    document.getElementById('findMe').onclick = () => {
      if (!navigator.geolocation) return alert('Geolocation not available');
      navigator.geolocation.getCurrentPosition(
        pos => map.setView([pos.coords.latitude, pos.coords.longitude], 13),
        () => alert('Unable to fetch your location')
      );
    };
  </script>
</body>
</html>
